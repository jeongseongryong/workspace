package bitcamp.java93.control;



import java.io.IOException;
import java.util.List;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import bitcamp.java93.domain.Teacher;
import bitcamp.java93.service.TeacherService;

public class TeacherDetailControl implements Controller {
	TeacherService teacherService;
		
	  public void setTeacherService(TeacherService teacherService) {
			this.teacherService = teacherService;
		}
	 
  @Override
  public String service(HttpServletRequest req, HttpServletResponse res) throws Exception {
    try {
    	int no = Integer.parseInt(req.getParameter("no"));   	     
      Teacher teacher = teacherService.get(no);
      
      if (teacher == null) {
        throw new Exception(no + "번 강사가 없습니다.");
      }
      
      
      List<Teacher> list = teacherService.list(pageNo, pageSize);
      req.setAttribute("list", list);
      return  "/teacher/list.jsp"; 
      
    } catch (Exception e) {
      req.setAttribute("error", e); 
      
    }
    
        
  }
}









